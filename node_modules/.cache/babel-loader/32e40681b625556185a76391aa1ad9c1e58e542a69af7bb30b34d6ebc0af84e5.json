{"ast":null,"code":"const{useEffect,useState}=require(\"react\");const AuthorizeUser=()=>{const[isUser,setUser]=useState(false);useEffect(()=>{const token=localStorage.getItem(\"token\");if(token){fetch('https://online-library-system-api.onrender.com/authorizeUser',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:token})}).then(res=>res.json()).then(data=>{if(data.status===\"Student\"){setUser(true);}}).catch(err=>console.log(err));}},[]);return isUser;};const AuthorizeAdmin=()=>{const[isAdmin,setAdmin]=useState(false);useEffect(()=>{const token=localStorage.getItem(\"token\");if(token){fetch('https://online-library-system-api.onrender.com/authorizeAdmin',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:token})}).then(res=>res.json()).then(data=>{if(data.status===\"Admin\"){setAdmin(true);}}).catch(err=>console.log(err));}},[]);return isAdmin;};const Delete=()=>{localStorage.removeItem(\"token\");return;};export{AuthorizeUser,AuthorizeAdmin,Delete};","map":{"version":3,"names":["useEffect","useState","require","AuthorizeUser","isUser","setUser","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","then","res","json","data","status","catch","err","console","log","AuthorizeAdmin","isAdmin","setAdmin","Delete","removeItem"],"sources":["C:/Users/Junior/Documents/GitHub/CS134-1P-Journal-Archive-Management-System/frontend/online-library-system/src/hooks/authorize.js"],"sourcesContent":["const { useEffect, useState } = require(\"react\")\r\n\r\n\r\n\r\nconst AuthorizeUser = () => {\r\n    const [isUser, setUser] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n\r\n            fetch('https://online-library-system-api.onrender.com/authorizeUser', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n\r\n                body: JSON.stringify({ token: token })\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.status === \"Student\") {\r\n                        setUser(true);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n    }, [])\r\n\r\n    return isUser;\r\n}\r\n\r\n\r\nconst AuthorizeAdmin = () => {\r\n    const [isAdmin, setAdmin] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token) {\r\n            fetch('https://online-library-system-api.onrender.com/authorizeAdmin', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({ token: token })\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.status === \"Admin\") {\r\n                        setAdmin(true);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n    }, [])\r\n\r\n    return isAdmin\r\n}\r\n\r\nconst Delete = () => {\r\n    localStorage.removeItem(\"token\");\r\n    return;\r\n}\r\n\r\n\r\nexport { AuthorizeUser, AuthorizeAdmin, Delete }"],"mappings":"AAAA,KAAM,CAAEA,SAAS,CAAEC,QAAS,CAAC,CAAGC,OAAO,CAAC,OAAO,CAAC,CAIhD,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,MAAM,CAAEC,OAAO,CAAC,CAAGJ,QAAQ,CAAC,KAAK,CAAC,CAGzCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAM,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CAEPG,KAAK,CAAC,8DAA8D,CAAE,CAClEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CAEDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAER,KAAK,CAAEA,KAAM,CAAC,CACzC,CAAC,CAAC,CACGS,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACV,GAAIA,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CAC3Bd,OAAO,CAAC,IAAI,CAAC,CACjB,CACJ,CAAC,CAAC,CACDe,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CACvC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAjB,MAAM,CACjB,CAAC,CAGD,KAAM,CAAAoB,cAAc,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,OAAO,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CAE3CD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAM,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAIF,KAAK,CAAE,CACPG,KAAK,CAAC,+DAA+D,CAAE,CACnEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAER,KAAK,CAAEA,KAAM,CAAC,CACzC,CAAC,CAAC,CACGS,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACV,GAAIA,IAAI,CAACC,MAAM,GAAK,OAAO,CAAE,CACzBO,QAAQ,CAAC,IAAI,CAAC,CAClB,CACJ,CAAC,CAAC,CACDN,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CACvC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAI,OAAO,CAClB,CAAC,CAED,KAAM,CAAAE,MAAM,CAAGA,CAAA,GAAM,CACjBpB,YAAY,CAACqB,UAAU,CAAC,OAAO,CAAC,CAChC,OACJ,CAAC,CAGD,OAASzB,aAAa,CAAEqB,cAAc,CAAEG,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}