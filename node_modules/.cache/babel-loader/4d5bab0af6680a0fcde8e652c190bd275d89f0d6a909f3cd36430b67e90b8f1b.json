{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nconst {\n  useEffect,\n  useState\n} = require(\"react\");\nconst AuthorizeUser = () => {\n  _s();\n  const [isUser, setUser] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch('https://online-library-system-api.onrender.com/authorizeUser', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token: token\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.status === \"Student\") {\n          setUser(true);\n        }\n      }).catch(err => console.log(err));\n    }\n  }, []);\n  return isUser;\n};\n_s(AuthorizeUser, \"IP4HXs8PcqTrFCeP3OgnIXeLcYk=\");\n_c = AuthorizeUser;\nconst AuthorizeAdmin = () => {\n  _s2();\n  const [isAdmin, setAdmin] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      fetch('https://online-library-system-api.onrender.com/authorizeAdmin', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token: token\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.status === \"Admin\") {\n          setAdmin(true);\n        }\n      }).catch(err => console.log(err));\n    }\n  }, []);\n  return isAdmin;\n};\n_s2(AuthorizeAdmin, \"gEuYYFUzpYE+TFQ1Z7jPZGU8B9E=\");\n_c2 = AuthorizeAdmin;\nconst Delete = () => {\n  localStorage.removeItem(\"token\");\n  return;\n};\n_c3 = Delete;\nexport { AuthorizeUser, AuthorizeAdmin, Delete };\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthorizeUser\");\n$RefreshReg$(_c2, \"AuthorizeAdmin\");\n$RefreshReg$(_c3, \"Delete\");","map":{"version":3,"names":["useEffect","useState","require","AuthorizeUser","_s","isUser","setUser","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","then","res","json","data","status","catch","err","console","log","_c","AuthorizeAdmin","_s2","isAdmin","setAdmin","_c2","Delete","removeItem","_c3","$RefreshReg$"],"sources":["C:/Users/Junior/Documents/GitHub/CS134-1P-Journal-Archive-Management-System/frontend/online-library-system/src/hooks/authorize.js"],"sourcesContent":["const { useEffect, useState } = require(\"react\")\r\n\r\n\r\n\r\nconst AuthorizeUser = () => {\r\n    const [isUser, setUser] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n\r\n            fetch('https://online-library-system-api.onrender.com/authorizeUser', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n\r\n                body: JSON.stringify({ token: token })\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.status === \"Student\") {\r\n                        setUser(true);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n    }, [])\r\n\r\n    return isUser;\r\n}\r\n\r\n\r\nconst AuthorizeAdmin = () => {\r\n    const [isAdmin, setAdmin] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if (token) {\r\n            fetch('https://online-library-system-api.onrender.com/authorizeAdmin', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({ token: token })\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.status === \"Admin\") {\r\n                        setAdmin(true);\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n    }, [])\r\n\r\n    return isAdmin\r\n}\r\n\r\nconst Delete = () => {\r\n    localStorage.removeItem(\"token\");\r\n    return;\r\n}\r\n\r\n\r\nexport { AuthorizeUser, AuthorizeAdmin, Delete }"],"mappings":";;AAAA,MAAM;EAAEA,SAAS;EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,OAAO,CAAC;AAIhD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,MAAM,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAGzCD,SAAS,CAAC,MAAM;IACZ,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MAEPG,KAAK,CAAC,8DAA8D,EAAE;QAClEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QAEDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAER,KAAK,EAAEA;QAAM,CAAC;MACzC,CAAC,CAAC,CACGS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACV,IAAIA,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;UAC3Bd,OAAO,CAAC,IAAI,CAAC;QACjB;MACJ,CAAC,CAAC,CACDe,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IACvC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOjB,MAAM;AACjB,CAAC;AAAAD,EAAA,CA3BKD,aAAa;AAAAsB,EAAA,GAAbtB,aAAa;AA8BnB,MAAMuB,cAAc,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACzB,MAAM,CAACC,OAAO,EAAEC,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAE3CD,SAAS,CAAC,MAAM;IACZ,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIF,KAAK,EAAE;MACPG,KAAK,CAAC,+DAA+D,EAAE;QACnEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAER,KAAK,EAAEA;QAAM,CAAC;MACzC,CAAC,CAAC,CACGS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACV,IAAIA,IAAI,CAACC,MAAM,KAAK,OAAO,EAAE;UACzBS,QAAQ,CAAC,IAAI,CAAC;QAClB;MACJ,CAAC,CAAC,CACDR,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IACvC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOM,OAAO;AAClB,CAAC;AAAAD,GAAA,CAzBKD,cAAc;AAAAI,GAAA,GAAdJ,cAAc;AA2BpB,MAAMK,MAAM,GAAGA,CAAA,KAAM;EACjBvB,YAAY,CAACwB,UAAU,CAAC,OAAO,CAAC;EAChC;AACJ,CAAC;AAAAC,GAAA,GAHKF,MAAM;AAMZ,SAAS5B,aAAa,EAAEuB,cAAc,EAAEK,MAAM;AAAE,IAAAN,EAAA,EAAAK,GAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAT,EAAA;AAAAS,YAAA,CAAAJ,GAAA;AAAAI,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}