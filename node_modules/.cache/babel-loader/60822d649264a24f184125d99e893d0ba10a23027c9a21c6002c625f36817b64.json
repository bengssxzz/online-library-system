{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nconst {\n  useEffect,\n  useState\n} = require(\"react\");\nconst AuthorizeUser = () => {\n  _s();\n  const [isUser, setUser] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem(\"student\");\n    if (token) {\n      fetch('http://localhost:8081/authorizeUser', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token: token\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.status === \"Expired\") {\n          Delete(\"student\");\n        } else if (data.status === \"Student\") {\n          setUser(true);\n        }\n      }).catch(err => console.log(err));\n    }\n  }, []);\n  return isUser;\n};\n_s(AuthorizeUser, \"IP4HXs8PcqTrFCeP3OgnIXeLcYk=\");\n_c = AuthorizeUser;\nconst AuthorizeAdmin = () => {\n  _s2();\n  const [isAdmin, setAdmin] = useState(false);\n  useEffect(() => {\n    const token = localStorage.getItem(\"admin\");\n    if (token) {\n      fetch('http://localhost:8081/authorizeAdmin', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          token: token\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.status === \"Expired\") {\n          Delete(\"admin\");\n        } else if (data.status === \"Admin\") {\n          setAdmin(true);\n        }\n      }).catch(err => console.log(err));\n    }\n  }, []);\n  return isAdmin;\n};\n_s2(AuthorizeAdmin, \"gEuYYFUzpYE+TFQ1Z7jPZGU8B9E=\");\n_c2 = AuthorizeAdmin;\nconst Delete = name => {\n  localStorage.removeItem(name);\n  return;\n};\n_c3 = Delete;\nexport { AuthorizeUser, AuthorizeAdmin, Delete };\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthorizeUser\");\n$RefreshReg$(_c2, \"AuthorizeAdmin\");\n$RefreshReg$(_c3, \"Delete\");","map":{"version":3,"names":["useEffect","useState","require","AuthorizeUser","_s","isUser","setUser","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","then","res","json","data","status","Delete","catch","err","console","log","_c","AuthorizeAdmin","_s2","isAdmin","setAdmin","_c2","name","removeItem","_c3","$RefreshReg$"],"sources":["C:/Users/Junior/Documents/GitHub/CS134-1P-Journal-Archive-Management-System/frontend/online-library-system/src/hooks/authorize.js"],"sourcesContent":["const { useEffect, useState } = require(\"react\")\r\n\r\n\r\n\r\nconst AuthorizeUser = () => {\r\n    const [isUser, setUser] = useState(false);\r\n    \r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem(\"student\");\r\n        if (token)\r\n        {\r\n\r\n            fetch('http://localhost:8081/authorizeUser', {  \r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n\r\n                body: JSON.stringify({token: token})\r\n            })  \r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.status === \"Expired\") {\r\n                    Delete(\"student\");\r\n                }\r\n                else if (data.status === \"Student\"){\r\n                    setUser(true);\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n    }, [])\r\n\r\n    return isUser;\r\n}\r\n\r\n\r\nconst AuthorizeAdmin = () => {\r\n    const [isAdmin, setAdmin] = useState(false);\r\n    \r\n    useEffect(() => {\r\n      const token = localStorage.getItem(\"admin\");\r\n\r\n      if (token) {\r\n\r\n        fetch('http://localhost:8081/authorizeAdmin', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({token: token})\r\n            })  \r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.status === \"Expired\") {\r\n                    Delete(\"admin\");\r\n                }\r\n                else if (data.status === \"Admin\"){\r\n                    setAdmin(true);\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n    }, [])\r\n    \r\n    return isAdmin\r\n}\r\n\r\nconst Delete = (name) => {\r\n    localStorage.removeItem(name);\r\n    return;\r\n}\r\n\r\n\r\nexport {AuthorizeUser, AuthorizeAdmin, Delete}"],"mappings":";;AAAA,MAAM;EAAEA,SAAS;EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,OAAO,CAAC;AAIhD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,MAAM,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAGzCD,SAAS,CAAC,MAAM;IACZ,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAC7C,IAAIF,KAAK,EACT;MAEIG,KAAK,CAAC,qCAAqC,EAAE;QACzCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QAEDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAACR,KAAK,EAAEA;QAAK,CAAC;MACvC,CAAC,CAAC,CACDS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACV,IAAIA,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;UAC3BC,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC,MACI,IAAIF,IAAI,CAACC,MAAM,KAAK,SAAS,EAAC;UAC/Bd,OAAO,CAAC,IAAI,CAAC;QACjB;MACJ,CAAC,CAAC,CACDgB,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IACnC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOlB,MAAM;AACjB,CAAC;AAAAD,EAAA,CA/BKD,aAAa;AAAAuB,EAAA,GAAbvB,aAAa;AAkCnB,MAAMwB,cAAc,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACzB,MAAM,CAACC,OAAO,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EAE3CD,SAAS,CAAC,MAAM;IACd,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIF,KAAK,EAAE;MAETG,KAAK,CAAC,sCAAsC,EAAE;QAC1CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAACR,KAAK,EAAEA;QAAK,CAAC;MACnC,CAAC,CAAC,CACDS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;QACV,IAAIA,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;UAC3BC,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC,MACI,IAAIF,IAAI,CAACC,MAAM,KAAK,OAAO,EAAC;UAC7BU,QAAQ,CAAC,IAAI,CAAC;QAClB;MACJ,CAAC,CAAC,CACDR,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IACnC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOM,OAAO;AAClB,CAAC;AAAAD,GAAA,CA7BKD,cAAc;AAAAI,GAAA,GAAdJ,cAAc;AA+BpB,MAAMN,MAAM,GAAIW,IAAI,IAAK;EACrBxB,YAAY,CAACyB,UAAU,CAACD,IAAI,CAAC;EAC7B;AACJ,CAAC;AAAAE,GAAA,GAHKb,MAAM;AAMZ,SAAQlB,aAAa,EAAEwB,cAAc,EAAEN,MAAM;AAAC,IAAAK,EAAA,EAAAK,GAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAT,EAAA;AAAAS,YAAA,CAAAJ,GAAA;AAAAI,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}