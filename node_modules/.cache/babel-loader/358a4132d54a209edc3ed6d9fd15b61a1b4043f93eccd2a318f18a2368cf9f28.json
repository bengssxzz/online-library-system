{"ast":null,"code":"import{useNavigate}from'react-router-dom';import logo from'../img/RSHS_1_Logo.png';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function StudLogin(){const navigate=useNavigate();const[lrn,setLrn]=useState();const[password,setPassword]=useState();const navToSignUp=()=>{navigate('/register');};const loginButton=e=>{e.preventDefault();fetch('https://online-library-system-api.onrender.com/getToken',{method:\"POST\",headers:new Headers({\"Content-Type\":\"application/json\"}),body:JSON.stringify({lrn:lrn,password:password,user:\"Student\"})}).then(res=>res.json()).then(data=>{if(data.status===\"Success!\"){alert(data.status);localStorage.setItem(\"token\",JSON.stringify(data.token));console.log(localStorage.getItem(\"token\"));navigate(\"/category/all\");window.location.reload();}else if(data.status===\"Incorrect LRN!\"){alert(data.status);setLrn(\"\");setPassword(\"\");}else{alert(data.status);setPassword(\"\");}}).catch(error=>{console.log(error);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"md:tw-bg-[url('/src/img/bg.jpg')] tw-flex tw-flex-wrap tw-justify-center tw-items-center tw-min-h-dvh tw-min-w-full tw-gap-x-16 tw-gap-y-px\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"md:tw-text-left tw-text-left sm:tw-text-center tw-font-archivo-black md:tw-pb-[200px]\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"tw-text-7xl\",children:\"Regional Science\"}),/*#__PURE__*/_jsx(\"h1\",{class:\"tw-text-7xl\",children:\"High School\"}),/*#__PURE__*/_jsx(\"h3\",{class:\"tw-p-0.5\",children:\"Region 1\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"md:tw-bg-gray-100 sm:tw-bg-gray-200 md:tw-bg-opacity-[80%] sm:tw-bg-opacity-[70%] tw-h-max tw-shadow-lg tw-rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"tw-pt-5 tw-flex tw-justify-center tw-items-center tw-font-roboto\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,class:\"tw-h-20 tw-w-20 tw-text-left\",alt:\"RSHS Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"formStyle tw-w-96 tw-mx-auto tw-p-4\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"elements tw-p-2.5 tw-w-full\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"lrnLabel\",children:\"Student LRN \"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control focus:tw-placeholder-transparent\",id:\"lrnInput\",placeholder:\"LRN\",value:lrn,onChange:e=>setLrn(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"elements tw-p-2.5 tw-w-full\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"passwordInput\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control focus:tw-placeholder-transparent\",id:\"passwordInput\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"elements tw-p-2.5 tw-w-full tw-font-roboto\",children:/*#__PURE__*/_jsx(\"button\",{type:\"login\",class:\"lgnbutton tw-flex tw-justify-center tw-items-center tw-w-full tw-bg-steel-blue tw-rounded-md tw-h-[40px] tw-px-4 tw-border-none tw-outline-none hover:tw-bg-hover-blue tw-duration-500\",onClick:e=>loginButton(e),children:/*#__PURE__*/_jsx(\"label\",{class:\"tw-cursor-pointer tw-text-gray-50\",children:\"Login\"})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"elements tw-p-2.5 tw-w-full tw-font-roboto\",children:/*#__PURE__*/_jsx(\"button\",{type:\"register\",class:\"rgtbutton tw-flex tw-justify-center tw-items-center tw-w-full tw-bg-steel-blue tw-rounded-md tw-h-[40px] tw-px-4 tw-border-none tw-outline-none hover:tw-bg-hover-blue tw-duration-500\",onClick:navToSignUp,children:/*#__PURE__*/_jsx(\"label\",{class:\"tw-cursor-pointer tw-text-gray-100\",children:\"Sign Up\"})})})]})]})]})});}","map":{"version":3,"names":["useNavigate","logo","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StudLogin","navigate","lrn","setLrn","password","setPassword","navToSignUp","loginButton","e","preventDefault","fetch","method","headers","Headers","body","JSON","stringify","user","then","res","json","data","status","alert","localStorage","setItem","token","console","log","getItem","window","location","reload","catch","error","children","className","class","src","alt","for","id","placeholder","value","onChange","target","type","onClick"],"sources":["C:/Users/Junior/Documents/GitHub/CS134-1P-Journal-Archive-Management-System/frontend/online-library-system/src/pages/StudLogin.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\nimport logo from '../img/RSHS_1_Logo.png';\r\nimport { useState } from 'react';\r\n\r\nexport default function StudLogin() {\r\n\r\n    const navigate = useNavigate();\r\n    const [lrn, setLrn] = useState();\r\n    const [password, setPassword] = useState();\r\n\r\n\r\n\r\n    const navToSignUp = () => {\r\n        navigate('/register');\r\n    }\r\n\r\n    const loginButton = (e) => {\r\n        e.preventDefault();\r\n        fetch('https://online-library-system-api.onrender.com/getToken', {\r\n            method: \"POST\",\r\n            headers: new Headers({\r\n                \"Content-Type\": \"application/json\",\r\n            }),\r\n            body: JSON.stringify({ lrn: lrn, password: password, user: \"Student\" })\r\n\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.status === \"Success!\") {\r\n                    alert(data.status);\r\n                    localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n                    console.log(localStorage.getItem(\"token\"));\r\n                    navigate(\"/category/all\");\r\n                    window.location.reload();\r\n                }\r\n                else if (data.status === \"Incorrect LRN!\") {\r\n                    alert(data.status);\r\n                    setLrn(\"\");\r\n                    setPassword(\"\");\r\n                }\r\n                else {\r\n                    alert(data.status);\r\n                    setPassword(\"\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"md:tw-bg-[url('/src/img/bg.jpg')] tw-flex tw-flex-wrap tw-justify-center tw-items-center tw-min-h-dvh tw-min-w-full tw-gap-x-16 tw-gap-y-px\">\r\n                <div class=\"md:tw-text-left tw-text-left sm:tw-text-center tw-font-archivo-black md:tw-pb-[200px]\">\r\n                    <h1 class=\"tw-text-7xl\">Regional Science</h1>\r\n                    <h1 class=\"tw-text-7xl\">High School</h1>\r\n                    <h3 class=\"tw-p-0.5\">Region 1</h3>\r\n                </div>\r\n                <div class=\"md:tw-bg-gray-100 sm:tw-bg-gray-200 md:tw-bg-opacity-[80%] sm:tw-bg-opacity-[70%] tw-h-max tw-shadow-lg tw-rounded-lg\">\r\n                    <div class=\"tw-pt-5 tw-flex tw-justify-center tw-items-center tw-font-roboto\">\r\n                        <img src={logo} class=\"tw-h-20 tw-w-20 tw-text-left\" alt=\"RSHS Logo\" />\r\n                        <h1>Login</h1>\r\n                    </div>\r\n                    <form className=\"formStyle tw-w-96 tw-mx-auto tw-p-4\">\r\n                        <div class=\"elements tw-p-2.5 tw-w-full\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"lrnLabel\">Student LRN </label>\r\n                                <input class=\"form-control focus:tw-placeholder-transparent\" id=\"lrnInput\" placeholder=\"LRN\" value={lrn} onChange={(e) => setLrn(e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"elements tw-p-2.5 tw-w-full\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"passwordInput\">Password</label>\r\n                                <input type=\"password\" class=\"form-control focus:tw-placeholder-transparent\" id=\"passwordInput\" placeholder=\"Password\" value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"elements tw-p-2.5 tw-w-full tw-font-roboto\">\r\n                            <button type=\"login\" class=\"lgnbutton tw-flex tw-justify-center tw-items-center tw-w-full tw-bg-steel-blue tw-rounded-md tw-h-[40px] tw-px-4 tw-border-none tw-outline-none hover:tw-bg-hover-blue tw-duration-500\"\r\n                                onClick={(e) => loginButton(e)}>\r\n                                <label class=\"tw-cursor-pointer tw-text-gray-50\">Login</label></button>\r\n                        </div>\r\n                        <hr />\r\n\r\n                        <div class=\"elements tw-p-2.5 tw-w-full tw-font-roboto\">\r\n                            <button type=\"register\" class=\"rgtbutton tw-flex tw-justify-center tw-items-center tw-w-full tw-bg-steel-blue tw-rounded-md tw-h-[40px] tw-px-4 tw-border-none tw-outline-none hover:tw-bg-hover-blue tw-duration-500\"\r\n                                onClick={navToSignUp}>\r\n                                <label class=\"tw-cursor-pointer tw-text-gray-100\">Sign Up</label></button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}